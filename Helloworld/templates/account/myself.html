{% extends "base.html" %}

{% load staticfiles %}

{% block title %}Information{% endblock %}

{% block content %}

    <div class="row text-center vertical-middle-sm">
        <h1>Personal Information</h1>
        <div class="row">
            <div class="col-md-6">
                <div class="row">
                    <div class="col-md-4 text-right"><span>用户名：</span></div>
                    <div class="col-md-4 text-right">{{ user.username }}</div>
                </div>
                <div class="row">
                    <div class="col-md-4 text-right"><span>邮箱：</span></div>
                    <div class="col-md-4 text-right">{{ user.email }}</div>
                </div>
                <div class="row">
                    <div class="col-md-4 text-right"><span>生日：</span></div>
                    <div class="col-md-4 text-right">{{ userprofile.birth }}</div>
                </div>
                <div class="row">
                    <div class="col-md-4 text-right"><span>电话：</span></div>
                    <div class="col-md-4 text-right">{{ userprofile.phone }}</div>
                </div>
                <div class="row">
                    <div class="col-md-4 text-right"><span>毕业院校：</span></div>
                    <div class="col-md-4 text-right">{{ userinfo.school }}</div>
                </div>
                <div class="row">
                    <div class="col-md-4 text-right"><span>工作单位：</span></div>
                    <div class="col-md-4 text-right">{{ userinfo.company }}</div>
                </div>
                <div class="row">
                    <div class="col-md-4 text-right"><span>职业：</span></div>
                    <div class="col-md-4 text-right">{{ userinfo.profession }}</div>
                </div>
                <div class="row">
                    <div class="col-md-4 text-right"><span>地址：</span></div>
                    <div class="col-md-4 text-right">{{ userinfo.address }}</div>
                </div>
                <div class="row">
                    <div class="col-md-4 text-right"><span>个人介绍：</span></div>
                    <div class="col-md-4 text-right">{{ userinfo.aboutme }}</div>
                </div>
            </div>

            <!--头像-->
            <div class="col-md-6">
                <!--头像显示-->
                <div style="margin-right: 100px">
                    {% if userinfo.photo %}
                        <img src="{{ userinfo.photo | striptags }}" class="img-circle" id="my_photo" name="user_face">
                    {% else %}
                        <!--默认头像-->
                        <img name="user_face" src="{% static 'images/avatar.png' %}" class="img-circle" width="270px"
                             id="my_photo">
                    {% endif %}
                </div>
                <!--上传按钮-->
                <div style="margin-right: 100px">
                    <button class="btn btn-primary btn-sm" id="upload_image" onclick="upload_image_layer()">upload my
                        photo
                    </button>
                </div>
            </div>
        </div>
        <a href="{% url 'account:edit_my_information' %}">
            <button class="btn btn-primary btn-lg">Edit my information</button>
        </a>
    </div>

    <!--上传头像入口-->
    <script type="text/javascript" src='{% static "js/jquery.js" %}'></script>
    <script type="text/javascript" src="{% static 'js/layer.js' %}"></script>

    <script>
        function upload_image_layer() {
            layer.open({
                            title: "上传头像",
                            area: ['650px', '600px'],
                            type: 2,
                            content: "{% url 'account:my_image' %}"
            });
        }
    </script>

{% endblock %}